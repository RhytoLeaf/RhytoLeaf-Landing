<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SpeedScript - A typing speed test to measure your WPM (words per minute) and typing accuracy in 90 seconds.">
    <link rel="canonical" href="https://rhytoleaf.ca/apps/speedscript.html">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="SpeedScript">
    <meta property="og:description" content="Test your typing speed and accuracy with SpeedScript. Type quotes as fast as you can in 90 seconds.">
    <meta property="og:image" content="https://rhytoleaf.ca/images/speedscript-logo.png">
    <meta property="og:url" content="https://rhytoleaf.ca/apps/speedscript.html">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="SpeedScript">
    <meta name="twitter:description" content="Test your typing speed and accuracy in 90 seconds.">
    <meta name="twitter:image" content="https://rhytoleaf.ca/images/speedscript-logo.png">
    <meta property="twitter:url" content="https://rhytoleaf.ca/apps/speedscript.html">

    <title>SpeedScript</title>
    <link rel="icon" type="image/png" href="../images/speedscript-logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        /* CSS Variables */
        :root {
            --rhyto-green: #00CE7C;
            --rhyto-green-hover: #00b56d;
            --rhyto-green-dark: #009d5e;
        }

        [data-theme="dark"] {
            --background-start: #0f2027;
            --background-mid: #203a43;
            --background-end: #2c5364;
            --text-color: #ffffff;
            --text-muted: rgba(255, 255, 255, 0.7);
            --glass-bg: rgba(0, 0, 0, 0.3);
            --glass-border: rgba(255, 255, 255, 0.15);
        }

        [data-theme="light"] {
            --background-start: #e0f7fa;
            --background-mid: #b2ebf2;
            --background-end: #80deea;
            --text-color: #1a1a1a;
            --text-muted: rgba(0, 0, 0, 0.6);
            --glass-bg: rgba(255, 255, 255, 0.4);
            --glass-border: rgba(255, 255, 255, 0.6);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, var(--background-start), var(--background-mid), var(--background-end));
            background-attachment: fixed;
            color: var(--text-color);
            font-family: "Montserrat", sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 1rem;
            overflow-x: hidden;
        }

        /* Glass Effect */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        /* Header Section */
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            color: var(--text-color);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .back-button:hover {
            color: var(--rhyto-green);
        }

        .back-button svg {
            width: 20px;
            height: 20px;
            margin-right: 0.5rem;
        }

        .logo-container {
            flex: 1;
            text-align: center;
        }

        .rhyto-logo {
            width: 60px;
            height: auto;
            transition: transform 0.3s ease;
            border-radius: 20%;
        }

        .rhyto-logo:hover {
            transform: scale(1.1);
        }

        /* Theme Switch */
        .theme-switch-wrapper {
            display: flex;
            align-items: center;
        }

        .theme-switch {
            display: inline-block;
            height: 34px;
            position: relative;
            width: 60px;
        }

        .theme-switch input {
            display: none;
        }

        .slider {
            background-color: #ccc;
            bottom: 0;
            cursor: pointer;
            left: 0;
            position: absolute;
            right: 0;
            top: 0;
            transition: 0.4s;
            border-radius: 34px;
        }

        .slider:before {
            background-color: #fff;
            bottom: 4px;
            content: "";
            height: 26px;
            left: 4px;
            position: absolute;
            transition: 0.4s;
            width: 26px;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--rhyto-green);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Main Quiz Container */
        .quiz-container {
            text-align: center;
            max-width: 900px;
            width: 100%;
            margin: 2rem auto;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .quiz-container h1 {
            font-size: clamp(2rem, 6vw, 3.5rem);
            margin-bottom: 1rem;
            color: var(--rhyto-green);
            font-weight: 700;
        }

        .quiz-container > p {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            margin-bottom: 2rem;
            color: var(--text-muted);
        }

        .quiz-container > p a {
            color: var(--rhyto-green);
            text-decoration: none;
            font-weight: 600;
            transition: opacity 0.3s ease;
        }

        .quiz-container > p a:hover {
            opacity: 0.8;
            text-decoration: underline;
        }

        /* Quote Display */
        #quote-display {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            margin-bottom: 2rem;
            padding: 2rem;
            min-height: 100px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            line-height: 1.6;
        }

        #quote-display span {
            transition: color 0.2s ease;
            white-space: pre;
        }

        .correct {
            color: var(--rhyto-green) !important;
            font-weight: 600;
        }

        /* Dictation Board */
        #dictation-board {
            width: 100%;
            max-width: 800px;
            height: clamp(120px, 20vh, 180px);
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            padding: 1.5rem;
            border-radius: 15px;
            border: 2px solid var(--rhyto-green);
            background-color: rgba(0, 206, 124, 0.1);
            color: var(--text-color);
            margin: 0 auto 1.5rem;
            resize: none;
            font-family: "Montserrat", sans-serif;
            transition: all 0.3s ease;
        }

        #dictation-board:focus {
            outline: none;
            border-color: var(--rhyto-green-hover);
            box-shadow: 0 0 0 3px rgba(0, 206, 124, 0.2);
        }

        #dictation-board:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Stats Display */
        .stats-container {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        #timer {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            color: var(--rhyto-green);
            font-weight: 700;
        }

        #score {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            color: var(--text-color);
            font-weight: 600;
        }

        #accuracy {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            color: var(--rhyto-green);
            font-weight: 600;
        }

        /* Buttons */
        .button-container {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        #start-btn,
        #pass-btn {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            padding: 1rem 2.5rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 140px;
            font-family: "Montserrat", sans-serif;
        }

        #start-btn {
            background-color: var(--rhyto-green);
            color: white;
        }

        #start-btn:hover:not(:disabled) {
            background-color: var(--rhyto-green-hover);
            transform: scale(1.05);
        }

        #start-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        #pass-btn {
            background-color: #f59e0b;
            color: white;
        }

        #pass-btn:hover:not(:disabled) {
            background-color: #d97706;
            transform: scale(1.05);
        }

        #pass-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Modal Styling */
        .modal-content {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            color: var(--text-color);
            border: 1px solid var(--glass-border);
        }

        .modal-header {
            border-bottom: 1px solid var(--glass-border);
        }

        .modal-footer {
            border-top: 1px solid var(--glass-border);
        }

        .modal-body {
            color: var(--text-color);
        }

        .modal-body ul {
            text-align: left;
        }

        .btn-primary {
            background-color: var(--rhyto-green);
            border-color: var(--rhyto-green);
        }

        .btn-primary:hover {
            background-color: var(--rhyto-green-hover);
            border-color: var(--rhyto-green-hover);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 1.5rem 0;
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-top: auto;
        }

        /* Accessibility */
        a:focus-visible,
        button:focus-visible,
        textarea:focus-visible {
            outline: 2px solid var(--rhyto-green);
            outline-offset: 4px;
        }

        /* Responsive Design - Mobile Portrait */
        @media (max-width: 768px) and (orientation: portrait) {
            body {
                padding: 0.5rem;
            }

            .header-container {
                padding: 0.5rem 0;
            }

            .back-button span {
                display: none;
            }

            .rhyto-logo {
                width: 50px;
            }

            .quiz-container {
                margin: 1rem auto;
            }

            #quote-display {
                padding: 1.5rem 1rem;
                min-height: 80px;
            }

            #dictation-board {
                padding: 1rem;
            }

            .stats-container {
                gap: 1rem;
            }

            .button-container {
                gap: 0.75rem;
            }

            #start-btn,
            #pass-btn {
                padding: 0.9rem 2rem;
                min-width: 120px;
            }
        }

        /* Responsive Design - Mobile Landscape */
        @media (max-width: 896px) and (orientation: landscape) {
            body {
                padding: 0.5rem;
            }

            .header-container {
                padding: 0.25rem 0;
            }

            .rhyto-logo {
                width: 40px;
            }

            .quiz-container {
                margin: 0.5rem auto;
            }

            .quiz-container h1 {
                margin-bottom: 0.5rem;
            }

            .quiz-container > p {
                margin-bottom: 1rem;
            }

            #quote-display {
                padding: 1rem;
                margin-bottom: 1rem;
                min-height: 60px;
            }

            #dictation-board {
                height: 80px;
                margin-bottom: 1rem;
                padding: 0.75rem;
            }

            .stats-container {
                gap: 1.5rem;
                margin-bottom: 1rem;
            }

            .button-container {
                margin-top: 0.5rem;
            }

            #start-btn,
            #pass-btn {
                padding: 0.7rem 1.8rem;
                min-width: 110px;
            }

            footer {
                padding: 0.75rem 0;
                font-size: 0.75rem;
            }
        }

        /* Responsive Design - Desktop */
        @media (min-width: 1024px) {
            .header-container {
                padding: 1.5rem 0;
            }

            .quiz-container {
                margin: 3rem auto;
            }

            #quote-display {
                padding: 2.5rem;
            }

            #dictation-board {
                padding: 2rem;
            }

            .stats-container {
                gap: 3rem;
            }
        }
    </style>
</head>
<body>
    <!-- Back to All Apps Navigation -->
    <a href="../index.html#apps" style="display:inline-flex;align-items:center;gap:0.4rem;padding:0.6rem 1rem;font-size:0.85rem;font-weight:500;color:#7A8B9C;text-decoration:none;position:fixed;top:1rem;left:1rem;z-index:100;transition:color 0.2s;" onmouseover="this.style.color='#00CE7C'" onmouseout="this.style.color='#7A8B9C'">
      <i class="fas fa-arrow-left" style="font-size:0.75rem;"></i> All Apps
    </a>

    <!-- Header with Back Button, Logo, and Theme Switch -->
    <div class="header-container">
        <a href="../index.html" class="back-button" aria-label="Back to home">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
            <span>Back to Home</span>
        </a>

        <div class="logo-container">
            <img src="../images/logo-icon.png" alt="RhytoLeaf Logo" class="rhyto-logo">
        </div>

        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="checkbox" aria-label="Toggle theme">
                <input type="checkbox" id="checkbox" />
                <div class="slider"></div>
            </label>
        </div>
    </div>

    <!-- Main Quiz Container -->
    <div class="quiz-container">
        <h1>SpeedScript</h1>
        <p>Type the following quotes as fast and accurately as you can. <a href="#" data-bs-toggle="modal" data-bs-target="#whyModal">Why?</a></p>

        <div id="quote-display" class="glass"></div>

        <textarea id="dictation-board" autofocus aria-label="Type the quote here"></textarea>

        <div class="stats-container">
            <div id="timer">90.000s</div>
            <div id="score">Score: 0</div>
        </div>

        <div class="button-container">
            <button id="start-btn" aria-label="Start the typing test">Start</button>
            <button id="pass-btn" aria-label="Skip to next quote">Pass</button>
        </div>
    </div>

    <!-- Why Modal -->
    <div class="modal fade" id="whyModal" tabindex="-1" aria-labelledby="whyModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="whyModalLabel">Why SpeedScript?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>This typing test helps you:</p>
                    <ul>
                        <li>Calculate your typing speed (WPM) in 90 seconds</li>
                        <li>Improve typing accuracy and efficiency</li>
                        <li>Enhance productivity and communication skills</li>
                        <li>Focus on content, not just typing mechanics</li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; <span id="current-year"></span> RhytoLeaf Inc. All rights reserved.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        const quotes = [
            "The only way to do great work is to love what you do.",
            "Innovation distinguishes between a leader and a follower.",
            "Strive not to be a success, but rather to be of value.",
            "The mind is everything. What you think you become.",
            "An unexamined life is not worth living.",
            "The best way to predict the future is to create it.",
            "You miss 100% of the shots you don't take.",
            "The only thing we have to fear is fear itself.",
            "That's one small step for a man, one giant leap for mankind.",
            "In the end, it's not the years in your life that count. It's the life in your years.",
            "Do to others what you would have them do to you.",
            "The truth will set you free.",
            "Let the one who is without sin be the first to cast a stone.",
            "It is more blessed to give than to receive.",
            "A tree is known by its fruit.",
            "I say unto you, Love your enemies and pray for those who persecute you."
        ];

        const quoteDisplay = document.getElementById('quote-display');
        const dictationBoard = document.getElementById('dictation-board');
        const timerDisplay = document.getElementById('timer');
        const startBtn = document.getElementById('start-btn');
        const passBtn = document.getElementById('pass-btn');
        const accuracyDisplay = document.createElement('div');
        accuracyDisplay.id = 'accuracy';
        document.querySelector('.stats-container').appendChild(accuracyDisplay);
        const scoreDisplay = document.getElementById('score');
        passBtn.disabled = true;

        let timer;
        let timeLeft = 90;
        let quote = "";
        let quizQuotes = [];
        let totalChars = 0;
        let correctChars = 0;
        let score = 0;
        let startTime;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function getQuizQuotes() {
            const uniqueQuotes = [...new Set(quotes)];
            if (uniqueQuotes.length < 5) {
                console.error("Not enough unique quotes to start the quiz.");
                return [];
            }
            const shuffledQuotes = shuffle(uniqueQuotes);
            return shuffledQuotes.slice(0, 5);
        }

        function startGame() {
            quizQuotes = getQuizQuotes();
            totalChars = 0;
            correctChars = 0;
            score = 0;
            scoreDisplay.innerText = `Score: ${score}`;
            accuracyDisplay.innerText = '';
            dictationBoard.disabled = false;
            passBtn.disabled = false;
            startTime = new Date();
            nextQuote();
            startTimer();
            startBtn.disabled = true;
        }

        function nextQuote() {
            if (quizQuotes.length === 0) {
                endGame();
                return;
            }
            quote = quizQuotes[0];
            quoteDisplay.innerHTML = '';
            quote.split('').forEach(character => {
                const span = document.createElement('span');
                span.innerText = character;
                quoteDisplay.appendChild(span);
            });
            dictationBoard.value = '';
            dictationBoard.focus();
        }

        function startTimer() {
            timeLeft = 90;
            timer = setInterval(() => {
                timeLeft -= 0.001;
                timerDisplay.innerText = `${timeLeft.toFixed(3)}s`;
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1);
        }

        function endGame(disqualified = false) {
            clearInterval(timer);
            dictationBoard.disabled = true;
            startBtn.disabled = false;
            passBtn.disabled = true;
            if (disqualified) {
                accuracyDisplay.innerText = "Disqualified";
                accuracyDisplay.style.color = '#ef4444';
            } else {
                const accuracy = totalChars > 0 ? (correctChars / totalChars) * 100 : 0;
                accuracyDisplay.innerText = `Accuracy: ${accuracy.toFixed(2)}%`;
                accuracyDisplay.style.color = 'var(--rhyto-green)';
            }
        }

        dictationBoard.addEventListener('paste', (e) => {
            e.preventDefault();
            endGame(true);
        });

        dictationBoard.addEventListener('input', () => {
            const quoteChars = quoteDisplay.querySelectorAll('span');
            const inputChars = dictationBoard.value.split('');

            totalChars = inputChars.length;
            correctChars = 0;

            let allCorrect = true;
            quoteChars.forEach((charSpan, index) => {
                const character = inputChars[index];
                if (character == null) {
                    charSpan.classList.remove('correct');
                    allCorrect = false;
                } else if (character === charSpan.innerText) {
                    charSpan.classList.add('correct');
                    correctChars++;
                } else {
                    charSpan.classList.remove('correct');
                    allCorrect = false;
                }
            });

            if (dictationBoard.value.length >= quote.length && allCorrect) {
                score++;
                scoreDisplay.innerText = `Score: ${score}`;
                quizQuotes.shift();
                nextQuote();
            }

            const timeElapsed = (new Date() - startTime) / 1000 / 60;
            const wordsTyped = dictationBoard.value.length / 5;
            const wpm = wordsTyped / timeElapsed;
            if (wpm > 200) {
                endGame(true);
            }
        });

        dictationBoard.addEventListener('keydown', (e) => {
            const input = dictationBoard.value;
            const currentInputLength = input.length;

            const quoteUpToCurrentChar = quote.substring(0, currentInputLength);
            if (input !== quoteUpToCurrentChar) {
                if (e.key !== 'Backspace') {
                    e.preventDefault();
                }
            }

            if (e.key === 'Backspace' && currentInputLength > 0) {
                const charToDelete = input[currentInputLength - 1];
                const correspondingQuoteChar = quote[currentInputLength - 1];

                if (charToDelete === correspondingQuoteChar) {
                    e.preventDefault();
                }
            }
        });

        startBtn.addEventListener('click', startGame);

        passBtn.addEventListener('click', () => {
            if (quizQuotes.length > 0) {
                const passedQuote = quizQuotes.shift();
                quizQuotes.push(passedQuote);
                nextQuote();
            }
        });

        const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');

        function switchTheme(e) {
            if (e.target.checked) {
                document.documentElement.setAttribute('data-theme', 'light');
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        }

        toggleSwitch.addEventListener('change', switchTheme, false);

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('current-year').textContent = new Date().getFullYear();
        });
    </script>
</body>
</html>